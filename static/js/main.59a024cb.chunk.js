(this["webpackJsonpreact-alfa-test"]=this["webpackJsonpreact-alfa-test"]||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),l=n(4),o=n.n(l),u=(n(17),n(6)),i=n.n(u),s=n(10),m=n(3),E=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h2",null,"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e..."))},d=n(2),b=n(8),f=function(e){var t=e.id,n=e.isLiked,a=e.image,l=e.info,o=e.price,u=e.name,i=e.removeTour,s=e.setLike,E=Object(c.useState)(!1),f=Object(m.a)(E,2),p=f[0],O=f[1];Object(d.b)(),Object(d.c)((function(e){return e.tours}));return r.a.createElement("article",{className:"single-tour"},r.a.createElement("img",{src:a,alt:u}),r.a.createElement("footer",null,r.a.createElement("div",{className:"tour-info"},r.a.createElement("h4",null,u),r.a.createElement("h4",{className:"tour-price"},"$",o)),r.a.createElement("p",null,p?l:"".concat(l.substring(0,200),"..."),r.a.createElement("button",{onClick:function(){return O(!p)}},p?"\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u0434\u0430\u043b\u0435\u0435")),r.a.createElement("button",{onClick:function(){return i(t)},className:"delete-btn"},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c")," ",r.a.createElement("button",{onClick:function(){return s(t,n)},className:"delete-btn like-btn"},n?r.a.createElement(b.a,{style:{color:"red",fontSize:"50px"}}):r.a.createElement(b.b,{style:{color:"red",fontSize:"50px"}}))))},p=function(e){var t=e.setLike,n=e.removeTour,a=Object(d.c)((function(e){return e.showLiked})),l=Object(d.c)((function(e){return e.tours})),o=Object(d.b)(),u=Object(c.useState)(),i=Object(m.a)(u,2),s=(i[0],i[1]);r.a.useCallback((function(){return s({})}),[]);console.log("sholiked is now: ",a),a&&(l=l.filter((function(e){return e.isLiked})));var E=function(){console.log("called the toggleshowliked"),o({type:"TOGGLE_SHOW_LIKED",payload:!a})};return r.a.createElement("section",null,r.a.createElement("div",{className:"title"},r.a.createElement("h4",null,r.a.createElement("em",null,"\u041c\u0438\u0445\u0430\u0438\u043b \u041f\u0430\u0441\u0438\u0447\u043d\u044e\u043a: \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435")),r.a.createElement("h2",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u043e\u0440\u044f\u0449\u0438\u0445 \u043f\u0443\u0442\u0451\u0432\u043e\u043a"),r.a.createElement("div",{className:"underline"}),a?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return E()},className:"btn"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0443\u0440\u044b"),r.a.createElement("h4",null,"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0439\u043a\u043d\u0443\u0442\u044b\u0435 \u0442\u0443\u0440\u044b: ",l.length," ","\u0442\u0443\u0440\u043e\u0432")):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return E()},className:"btn"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0439\u043a\u043d\u0443\u0442\u044b\u0435"),r.a.createElement("h4",null,"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432\u0441\u0435 \u0442\u0443\u0440\u044b: ",l.length," \u0442\u0443\u0440\u043e\u0432"))),r.a.createElement("div",{className:"mainContent"},l.map((function(e){return r.a.createElement(f,Object.assign({key:e.id,isLiked:e.isLiked},e,{removeTour:n,setLike:t}))}))))};var O=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.tours})),n=Object(c.useState)(!1),a=Object(m.a)(n,2),l=a[0],o=a[1],u=Object(c.useState)(),b=Object(m.a)(u,2),f=(b[0],b[1]),O=r.a.useCallback((function(){return f({})}),[]),h=function(){var t=Object(s.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,fetch("https://course-api.com/react-tours-project");case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,o(!1),a.forEach((function(e){e.isLiked=!1})),e({type:"UPDATE_TOURS",payload:a}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),o(!1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();return l?r.a.createElement("main",null,r.a.createElement(E,null)):0===t.length?r.a.createElement("main",null,r.a.createElement("div",{className:"title"},r.a.createElement("h4",null,r.a.createElement("em",null,"\u041c\u0438\u0445\u0430\u0438\u043b \u041f\u0430\u0441\u0438\u0447\u043d\u044e\u043a: \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435")),r.a.createElement("p",null,"SPA \u0441 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430\u043c\u0438 \u043e \u0433\u043e\u0440\u044f\u0447\u0438\u0445 \u043f\u0443\u0442\u0435\u0432\u043a\u0430\u0445"),r.a.createElement("h2",null,"\u0421\u0435\u0439\u0447\u0430\u0441 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0443\u0440\u043e\u0432 \u043f\u0443\u0441\u0442"),r.a.createElement("button",{className:"btn",onClick:function(){return h()}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0443\u0440\u043e\u0432 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))):r.a.createElement("main",null,r.a.createElement(p,{setLike:function(n,a){t.find((function(e){return e.id===n})).isLiked=!a,console.log("set liked wroked! ",t),e({type:"UPDATE_TOURS",payload:t}),O()},removeTour:function(n){var a=t.filter((function(e){return e.id!==n}));e({type:"UPDATE_TOURS",payload:a})}}))},h=n(11),k={cash:220,tours:[],showLiked:!1};var j=Object(h.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TOURS":case"UPDATE_TOURS":case"SET_LIKE":return Object(a.a)(Object(a.a)({},e),{},{tours:t.payload});case"TOGGLE_SHOW_LIKED":return Object(a.a)(Object(a.a)({},e),{},{showLiked:t.payload});case"ADD_CASH":return Object(a.a)(Object(a.a)({},e),{},{cash:e.cash+t.payload});case"GET_CASH":return Object(a.a)(Object(a.a)({},e),{},{cash:e.cash-t.payload});default:return e}}));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:j},r.a.createElement(O,null))),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.59a024cb.chunk.js.map