(this["webpackJsonpreact-alfa-test"]=this["webpackJsonpreact-alfa-test"]||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),l=n(4),o=n.n(l),i=(n(17),n(6)),s=n.n(i),u=n(10),m=n(3),d=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement("h2",null,"Loading tours data now..."))},E=n(2),b=n(8),f=function(e){var t=e.id,n=e.isLiked,a=e.image,l=e.info,o=e.price,i=e.name,s=e.removeTour,u=e.setLike,d=Object(r.useState)(!1),f=Object(m.a)(d,2),h=f[0],k=f[1];Object(E.b)(),Object(E.c)((function(e){return e.tours}));return c.a.createElement("article",{className:"single-tour"},c.a.createElement("img",{src:a,alt:i}),c.a.createElement("footer",null,c.a.createElement("div",{className:"tour-info"},c.a.createElement("h4",null,i),c.a.createElement("h4",{className:"tour-price"},"$",o)),c.a.createElement("p",null,h?l:"".concat(l.substring(0,200),"..."),c.a.createElement("button",{onClick:function(){return k(!h)}},h?"read less":"read more")),c.a.createElement("button",{onClick:function(){return s(t)},className:"delete-btn"},"DELETE")," ",c.a.createElement("button",{onClick:function(){return u(t,n)},className:"delete-btn like-btn"},n?c.a.createElement(b.a,{style:{color:"red",fontSize:"50px"}}):c.a.createElement(b.b,{style:{color:"red",fontSize:"50px"}}))))},h=function(e){var t=e.setLike,n=e.removeTour,a=Object(E.c)((function(e){return e.showLiked})),l=Object(E.c)((function(e){return e.tours})),o=Object(E.b)(),i=Object(r.useState)(),s=Object(m.a)(i,2),u=(s[0],s[1]);c.a.useCallback((function(){return u({})}),[]);console.log("sholiked is now: ",a),a&&(l=l.filter((function(e){return e.isLiked})));var d=function(){console.log("called the toggleshowliked"),o({type:"TOGGLE_SHOW_LIKED",payload:!a})};return c.a.createElement("section",null,c.a.createElement("div",{className:"title"},c.a.createElement("h4",null,c.a.createElement("em",null,"Mikhail Pasichniuk test assignment")),c.a.createElement("h2",null,"Tours list"),c.a.createElement("div",{className:"underline"}),a?c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return d()},className:"btn"},"Show all tours"),c.a.createElement("h4",null,"Showing only liked tours: ",l.length," ","tour(s)")):c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return d()},className:"btn"},"Show liked only"),c.a.createElement("h4",null,"Showing all tours: ",l.length," tour(s)"))),c.a.createElement("div",{className:"mainContent"},l.map((function(e){return c.a.createElement(f,Object.assign({key:e.id,isLiked:e.isLiked},e,{removeTour:n,setLike:t}))}))))};var k=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.tours})),n=Object(r.useState)(!1),a=Object(m.a)(n,2),l=a[0],o=a[1],i=Object(r.useState)(),b=Object(m.a)(i,2),f=(b[0],b[1]),k=c.a.useCallback((function(){return f({})}),[]),p=function(){var t=Object(u.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,fetch("https://course-api.com/react-tours-project");case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,o(!1),a.forEach((function(e){e.isLiked=!1})),e({type:"UPDATE_TOURS",payload:a}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),o(!1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();return l?c.a.createElement("main",null,c.a.createElement(d,null)):0===t.length?c.a.createElement("main",null,c.a.createElement("div",{className:"title"},c.a.createElement("h4",null,c.a.createElement("em",null,"Mikhail Pasichniuk test assignment")),c.a.createElement("p",null,"SPA fetching API data and showing cards with available tours"),c.a.createElement("h2",null,"The list is empty"),c.a.createElement("button",{className:"btn",onClick:function(){return p()}},"Load tours"))):c.a.createElement("main",null,c.a.createElement(h,{setLike:function(n,a){t.find((function(e){return e.id===n})).isLiked=!a,console.log("set liked wroked! ",t),e({type:"UPDATE_TOURS",payload:t}),k()},removeTour:function(n){var a=t.filter((function(e){return e.id!==n}));e({type:"UPDATE_TOURS",payload:a})}}))},p=n(11),O={cash:220,tours:[],showLiked:!1};var v=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TOURS":case"UPDATE_TOURS":case"SET_LIKE":return Object(a.a)(Object(a.a)({},e),{},{tours:t.payload});case"TOGGLE_SHOW_LIKED":return Object(a.a)(Object(a.a)({},e),{},{showLiked:t.payload});case"ADD_CASH":return Object(a.a)(Object(a.a)({},e),{},{cash:e.cash+t.payload});case"GET_CASH":return Object(a.a)(Object(a.a)({},e),{},{cash:e.cash-t.payload});default:return e}}));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E.a,{store:v},c.a.createElement(k,null))),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.467449c7.chunk.js.map